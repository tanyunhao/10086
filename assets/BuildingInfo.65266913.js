import*as t from"https://bim.gzmcg.com/cdn/sdk/s2@latest/sdk.es.js";import{d as g,b as f,e as y,o as v,c as h,_,j as n,f as b,a as m,k as x}from"./index.cdcf9b57.js";const F="https://cdn.dtbim.cn:8066/big-screen/poiNew.png",S="https://stream.rinkslab.com:8060/stream/i3s/OYFNsphMZp8x/PAJUtEcRUNsZ/\u4F4F\u5EFA\u767D\u6A21/\u4F4F\u5EFA\u767D\u6A21/SceneServer",w=g({__name:"Scene",props:["poiData"],setup(r){const l=r,s=f(null);let e=null,i=null;return y(()=>{if(s.value){e=new t.Scene(s.value,{map:{basemap:"tianditu-blue",ground:"world-elevation"},viewingMode:"global",environment:{starsEnabled:!1,atmosphereEnabled:!1,background:{type:"color",color:[33,41,77]}},popup:{autoOpenEnabled:!1}}),i=new t.SceneLayer({id:"demo",title:"\u6B66\u6C49\u4F4F\u5EFA",url:S}),e.layer.add(i);const d=new t.ColorizerPlugin;e.plugin.register(d),d.layers=[i],d.effects=[{condition:"1 == 1",effect:{type:"mesh-3d",fill:{color:"rgba(35, 154, 251,0.5)",colorMixMode:"replace"},border:{type:"solid",color:"rgba(229, 229, 229, 0.5)",size:1}}}],d.render(),e.when(()=>{const u={fov:55,heading:91.31698514687447,tilt:50.260580033159115,position:{latitude:30.593287479150717,longitude:114.27822657137045,z:1396.7136764572933},zoom:16.58456292096597};e.goTo(u,{speedFactor:1e3})})}const c=[];l.poiData.forEach((d,u)=>{d.latitude&&d.longitude&&c.push({type:"Feature",id:d.id,geometry:{type:"Point",coordinates:[d.longitude,d.latitude,d.height||0]},properties:{prop0:d.name}}),d.demonstration&&d.models&&d.models.length&&d.models.forEach(a=>{if(a.type==="Building"){const o=new t.BuildingLayer({id:a.name,url:a.url});e.layer.add(o)}else if(a.type==="Scene"){const o=new t.SceneLayer({id:a.name,url:a.url});e.layer.add(o)}})});const p=new t.ScatterplotLayer({id:2,title:"POI",data:{type:"FeatureCollection",features:c},style:{label:{expression:"$feature.prop0",color:"rgb(255,255,255)",placement:"center-right",background:"rgba(39, 116, 155, 0.8)"},icon:{size:45,href:F,verticalOffset:[100,1500,50]},line:{color:"#0ee5f4"},featureReduction:null}});e.layer.add([p])}),(c,p)=>(v(),h("div",{id:"scene",ref_key:"app",ref:s,class:"scene-container"},null,512))}});const D=_(w,[["__scopeId","data-v-0831e8c6"]]);const E={class:"app-container"},B={class:"Scene-container"},k=x('<div class="absolute left-0 top-16 left-container" data-v-dddd6000><div class="chart-content" data-v-dddd6000><div class="section" data-v-dddd6000><h1 class="chart-title" data-v-dddd6000>\u5386\u53F2\u80CC\u666F</h1><li class="chart-text" data-v-dddd6000> \u6210\u7ACB\u5E74\u4EE3\uFF1A1911\u5E74\uFF0C\u6E05\u672B\u65F6\u671F</li><li class="chart-text" data-v-dddd6000> \u5EFA\u7B51\u5E74\u4EE3\uFF1A1911\u5E74\uFF0C\u8F9B\u4EA5\u9769\u547D\u524D\u5915</li></div><div class="section" data-v-dddd6000><h1 class="chart-title" data-v-dddd6000>\u6587\u5316\u610F\u4E49</h1><p class="chart-text" data-v-dddd6000> \u6C49\u53E3\u5E73\u6C49\u94C1\u8DEF\u5C40\u89C1\u8BC1\u4E86\u6B66\u6C49\u4E43\u81F3\u4E2D\u56FD\u94C1\u8DEF\u7684\u53D1\u5C55\u5386\u7A0B\uFF0C\u53CD\u6620\u4E86\u4E0D\u540C\u5386\u53F2\u65F6\u671F\u7684\u5EFA\u7B51\u98CE\u683C\u548C\u6587\u5316\u7279\u8272\u3002\u5927\u697C\u7684\u4FDD\u62A4\u548C\u4FEE\u590D\u5DE5\u4F5C\u5BF9\u4E8E\u7814\u7A76\u548C\u4F20\u627F\u6B66\u6C49\u7684\u5386\u53F2\u6587\u5316\u5177\u6709\u91CD\u8981\u610F\u4E49\uFF0C\u540C\u65F6\u4E5F\u662F\u5BF9\u57CE\u5E02\u5386\u53F2\u8BB0\u5FC6\u7684\u4E00\u79CD\u5C0A\u91CD\u548C\u5EF6\u7EED </p></div><div class="section" data-v-dddd6000><h1 class="chart-title" data-v-dddd6000>\u6587\u5316\u9057\u4EA7\u4FE1\u606F</h1><li class="chart-text" data-v-dddd6000>\u5217\u5165\u65F6\u95F4\uFF1A</li><p class="chart-text" data-v-dddd6000> 1993\u5E74\u88AB\u5217\u4E3A\u6B66\u6C49\u5E02\u4E8C\u7EA7\u4F18\u79C0\u5386\u53F2\u5EFA\u7B51\uFF1B2008\u5E743\u670827\u65E5\uFF0C\u4EE5\u201C\u8FD1\u73B0\u4EE3\u91CD\u8981\u53F2\u8FF9\u53CA\u4EE3\u8868\u6027\u5EFA\u7B51\u201D\u7684\u8EAB\u4EFD\u88AB\u5217\u4E3A\u7B2C\u4E94\u6279\u6E56\u5317\u7701\u6587\u7269\u4FDD\u62A4\u5355\u4F4D </p></div></div></div><div class="absolute right-0 top-16 right-container" data-v-dddd6000><div class="chart-content" data-v-dddd6000><div class="section" data-v-dddd6000><h1 class="chart-title" data-v-dddd6000>\u5730\u7406\u4F4D\u7F6E</h1><li class="chart-text" data-v-dddd6000> \u5730\u5740\uFF1A\u6B66\u6C49\u5E02\u6C5F\u5CB8\u533A\u80DC\u5229\u8857174\u53F7 </li></div><div class="section" data-v-dddd6000><h1 class="chart-title" data-v-dddd6000>\u6784\u5EFA\u4FE1\u606F</h1><li class="chart-text" data-v-dddd6000>\u5C42\u6570\uFF1A4\u5C42</li><li class="chart-text" data-v-dddd6000>\u5916\u5899\u6750\u6599\uFF1A\u9752\u7070\u8272\u94C1\u7802\u7816,\u63D0\u4F9B\u4E86\u826F\u597D\u7684\u8010\u5019\u6027\u548C\u89C6\u89C9\u6548\u679C</li><li class="chart-text" data-v-dddd6000>\u7ED3\u6784\u4F53\u7CFB\uFF1A\u7816\u6728\u7ED3\u6784</li><li class="chart-text" data-v-dddd6000>\u5E73\u9762\u5E03\u5C40\uFF1A\u5448\u201C\u738B\u201D\u5B57\u578B\uFF0C\u4E24\u4FA7\u6709\u7FFC\u697C</li><li class="chart-text" data-v-dddd6000>\u5165\u53E3\u8BBE\u8BA1\uFF1A\u8BBE\u6709\u95E8\u6597</li></div><div class="section" data-v-dddd6000><h1 class="chart-title" data-v-dddd6000>\u5EFA\u7B51\u7279\u70B9</h1><li class="chart-text" data-v-dddd6000>\u9A91\u697C\uFF1A\u4E24\u7FFC\u7A81\u51FA\u90E8\u5206\u8BBE\u8BA1,\u8FD9\u662F\u4E00\u79CD\u5728\u4E1C\u5357\u4E9A\u548C\u534E\u5357\u5730\u533A\u5E38\u89C1\u7684\u8BBE\u8BA1\uFF0C\u5E95\u5C42\u67B6\u7A7A\uFF0C\u53EF\u4F9B\u884C\u4EBA\u901A\u884C\uFF0C\u540C\u65F6\u63D0\u4F9B\u906E\u9633\u907F\u96E8\u7684\u7A7A\u95F4</li><li class="chart-text" data-v-dddd6000>\u7A7A\u5ECA\uFF1A\u5E95\u5C42\u7684\u7A7A\u5ECA\u8BBE\u8BA1\u5141\u8BB8\u884C\u4EBA\u76F4\u63A5\u7A7F\u8FC7\u5EFA\u7B51\uFF0C\u4FBF\u4E8E\u8857\u9053\u7684\u901A\u884C\u548C\u5546\u4E1A\u6D3B\u52A8</li></div></div></div>',2),z={__name:"BuildingInfo",setup(r){const l=n({poiData:[{id:2,name:"\u6C49\u53E3\u5E73\u6C49\u94C1\u8DEF\u5C40\u65E7\u5740",description:null,latitude:30.5930957583063,longitude:114.295127862403,height:.1,image_url:"https://bim.gzmcg.com/upload/71b0d91d99b3f4384b79d1003.jpg",models:[],demonstration:!0}]});return n({linearDeg:"270deg"}),n({linearDeg:"90deg"}),(s,e)=>(v(),h("div",E,[b("div",B,[m(D,{poiData:l.poiData},null,8,["poiData"]),k])]))}},A=_(z,[["__scopeId","data-v-dddd6000"]]);export{A as default};
